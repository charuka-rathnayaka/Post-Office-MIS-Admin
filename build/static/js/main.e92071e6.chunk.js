(this["webpackJsonppost-office-mis-admin"]=this["webpackJsonppost-office-mis-admin"]||[]).push([[0],{614:function(e,t,r){},615:function(e,t,r){},955:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(41),o=r.n(c),i=(r(614),r(615),r(82)),s=r(57),l=r(32),d=r(1006),u=r(1035),b=r(1011),j=r(961),p=r(1042),m=r(21),f=r(239),O=r.n(f),h=r(240),x=r.n(h),g=r(8),v=r(1001),y=r(1005),w=Object(v.a)((function(){return{errorText:{fontSize:"14px",color:"#F7685B",marginTop:-14,float:"left",marginLeft:"13px",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600}}})),N={LoginPage:{backgroundColor:"#d4d4d4",minHeight:"100vh"},underline:{"&&&:before":{borderBottom:"none"},"&&:after":{borderBottom:"none"}},labelRoot:{backgroundColor:"rgba(0, 0, 0, 0) !important",opacity:.7,color:"#6A707E",fontFamily:"Poppins",fontStyle:"normal",fontWeight:400,fontSize:"16px"},root:{marginBottom:"16px",backgroundColor:"#FDFDFD !important",fontFamily:"Poppins",borderStyle:"solid",borderWidth:1,borderColor:"#D9EAFD",borderRadius:8},password:{marginBottom:"16px",backgroundColor:"#FDFDFD !important",fontFamily:"Poppins",borderStyle:"solid",borderWidth:1,borderColor:"#D9EAFD",borderRadius:8},boxMain:{background:"#121226",borderRadius:"16px",padding:"53px",maxWidth:"436px",maxHeight:"473px",marginTop:"6%",textAlign:"center"},boxMainXs:Object(g.a)({background:"#121226",padding:"25px",maxWidth:"488px",maxHeight:"473px",border:"2px solid #F4F4F4",marginLeft:"20px",marginRight:"20px"},"background","#980404"),title:{fontFamily:"Poppins",fontWeight:"800",fontStyle:"normal",marginTop:0,marginBottom:"60px",color:"white",fontSize:"24px"},link:{marginTop:"15px",fontSize:"14px",fontWeight:500}},S=Object(m.a)((function(){return{root:{borderRadius:8,textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#01011a","&:hover":{backgroundColor:"#000000",fontSize:"15px"},minWidth:"100px"}}}))(y.a),R=r(30),k=r(320),D="LOGIN_REQUEST",C="LOGIN_SUCCESS",E="LOGIN_ERROR",T="LOGOUT_REQUEST",I="SAVE_ID_TOKEN";var L=r(238),P=(r(417),r(514),r(957),L.a.initializeApp({apiKey:"AIzaSyDXONSGNu_khwenQFOLJjm5S9CQe--Y4tI",authDomain:"post-office-mis-505cc.firebaseapp.com",projectId:"post-office-mis-505cc",storageBucket:"post-office-mis-505cc.appspot.com",messagingSenderId:"931799860828",appId:"1:931799860828:web:ea6404206acd1e560a8899",measurementId:"G-WRG3Q0WPKG"})),M=(P.auth(),r(1007)),A=r(2),F=a.a.createContext(),W=function(e){var t=e.children,r=Object(n.useState)(null),a=Object(l.a)(r,2),c=a[0],o=a[1],i=Object(n.useState)(!0),s=Object(l.a)(i,2),u=s[0],b=s[1],j=Object(R.b)();return Object(n.useEffect)((function(){P.auth().onAuthStateChanged((function(e){o(e),b(!1),e&&(e.getIdToken(!0).then((function(e){j({type:I,token:e})})),localStorage.setItem("refreshToken",e.refreshToken))}))}),[]),u?Object(A.jsx)("div",{style:{backgroundColor:"#d4d4d4",minHeight:"100vh"},children:Object(A.jsxs)(d.a,{container:!0,direction:"column",justify:"flex-end",alignItems:"center",spacing:3,style:{position:"absolute",top:"35%"},children:[Object(A.jsx)(d.a,{children:Object(A.jsx)("img",{src:"/App_Icon.png",style:{width:300,height:120},alt:"APP Logo"})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(M.a,{size:80,color:"secondary",style:{color:"#03031c"}})})]})}):Object(A.jsx)(F.Provider,{value:{currentUser:c},children:t})};var B=Object(p.a)()(Object(m.a)(N)((function(e){var t=Object(n.useContext)(F).currentUser,r=w(),a=Object(R.c)((function(e){return e.loginReducer})),c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],p=o[1],m=e.classes,f=[].error,h=Object(R.b)(),g=Object(k.a)({initialValues:{emailVal:"",passwordVal:""},validate:function(e){var t={};return e.emailVal?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.emailVal)||(t.email="Invalid email address"):t.email="Email field is required",e.passwordVal?e.passwordVal.length<6&&(t.password="Password should contain atleast 6 characters"):t.password="Password field is required",t},onSubmit:function(e){g.touched.emailVal=!1,g.touched.passwordVal=!1,h(function(e){return{type:D,data:e}}(e))}});return t?Object(A.jsx)(s.a,{to:"/"}):Object(A.jsx)("div",{className:m.LoginPage,children:Object(A.jsx)(d.a,{container:!0,alignItems:"center",justify:"center",children:Object(A.jsxs)(d.a,{item:!0,className:"xs"!==e.width?m.boxMain:m.boxMainXs,children:[Object(A.jsx)("div",{className:m.logocontainer,children:Object(A.jsx)("img",{src:"/App_Icon.png",style:{width:220,height:80,color:"white"},alt:"Logo"})}),Object(A.jsx)("h2",{className:m.title,children:"Management System Login"}),Object(A.jsxs)("form",{onSubmit:g.handleSubmit,autoComplete:"none",children:[Object(A.jsx)(u.a,{id:"filled-basic",fullWidth:!0,label:"Enter Email....",variant:"filled",type:"email",name:"emailVal",autoComplete:"off",InputProps:{classes:{underline:m.underline,root:m.root}},InputLabelProps:{classes:{root:m.labelRoot}},onChange:g.handleChange,onBlur:g.handleBlur,value:g.values.emailVal}),g.touched.emailVal&&void 0!==g.errors.email?Object(A.jsx)("p",{className:r.errorText,children:g.errors.email}):null,void 0!==g.errors.email||g.touched.emailVal?null:Object(A.jsx)("p",{className:r.errorText,children:f}),Object(A.jsx)(u.a,{variant:"filled",fullWidth:!0,label:"Enter Password....",name:"passwordVal",type:i?"text":"password",onChange:g.handleChange,onBlur:g.handleBlur,value:g.values.passwordVal,InputLabelProps:{classes:{root:m.labelRoot}},InputProps:{endAdornment:Object(A.jsx)(b.a,{position:"end",children:""!==g.values.password?Object(A.jsx)(j.a,{style:{color:"#1b1b2b"},id:"iconButton","aria-label":"toggle password visibility",onClick:function(){return p(!i)},onMouseDown:function(){return p(!i)},children:i?Object(A.jsx)(O.a,{}):Object(A.jsx)(x.a,{})}):Object(A.jsx)("p",{})}),classes:{underline:m.underline,root:m.password}}}),Object(A.jsxs)(d.a,{container:!0,direction:"column",children:[Object(A.jsx)(d.a,{item:!0,children:g.touched.passwordVal&&void 0!==g.errors.password?Object(A.jsx)("span",{children:Object(A.jsx)("p",{className:r.errorText,children:g.errors.password})}):null}),Object(A.jsx)(d.a,{item:!0,children:a.error.length>0&&1==a.requireLogin?Object(A.jsx)("span",{children:Object(A.jsx)("p",{className:r.errorText,children:a.error})}):null}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(S,{variant:"contained",className:m.loginButton,type:"submit",children:"LOGIN"})})]})]})]})})})}))),_=r(1043),U=r(1010),z=r(962),q=r(1012),G=100,V=250,K=Object(v.a)((function(e){var t,r,n,a,c,o,i;return{root:{display:"flex",fontFamily:"Poppins",minWidth:"400px"},drawer:(t={},Object(g.a)(t,e.breakpoints.up("xs"),{width:56,flexShrink:0}),Object(g.a)(t,e.breakpoints.up("sm"),{width:G,flexShrink:0}),Object(g.a)(t,e.breakpoints.up("md"),{width:V,flexShrink:0}),Object(g.a)(t,"transition",e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),t),appBar:(r={position:"fixed",backgroundColor:"white",boxShadow:"none",color:"white"},Object(g.a)(r,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(G,"px)"),marginLeft:G}),Object(g.a)(r,e.breakpoints.up("md"),{width:"calc(100% - ".concat(V,"px)"),marginLeft:V}),Object(g.a)(r,"transition",e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),r),menuButton:Object(g.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),Divider:{backgroundColor:"white"},HoverEffect:{marginTop:0,"& :hover":{color:"white",fontWeight:"800",fontSize:"16px"},"&.active":{color:"#63231c",backgroundColor:"#4B76D1",fontWeight:"bold"}},DrawerButtons:(n={color:"#63231c",boxSizing:"border-box","&.active":{color:"#F3F7FB"}},Object(g.a)(n,e.breakpoints.up("sm"),{fontSize:28,marginLeft:"21px"}),Object(g.a)(n,e.breakpoints.up("md"),{fontSize:25}),n),DrawerLables:(a={fontFamily:"Rubik, sans-serif",display:"flex"},Object(g.a)(a,e.breakpoints.up("sm")&&e.breakpoints.down("sm"),{display:"none"}),Object(g.a)(a,e.breakpoints.down("xs"),{display:"flex"}),a),toolbar:e.mixins.toolbar,drawerPaper:(c={backgroundColor:"#070712"},Object(g.a)(c,e.breakpoints.down("xs"),{width:56}),Object(g.a)(c,e.breakpoints.up("sm"),{width:G}),Object(g.a)(c,e.breakpoints.up("md"),{width:V}),c),logocontainer:(o={},Object(g.a)(o,e.breakpoints.up("md"),{height:"150px",paddingLeft:"5px",paddingTop:"10px"}),Object(g.a)(o,e.breakpoints.down("xs"),{display:"none",paddingTop:"5px"}),Object(g.a)(o,e.breakpoints.up("sm")&&e.breakpoints.down("sm"),{textAlign:"center",paddingTop:"10px",height:"150px"}),o),content:{backgroundColor:"white",flexGrow:1},contentXs:{backgroundColor:"blue",flexGrow:1},listItem:(i={height:"41px",marginBottom:"8px"},Object(g.a)(i,e.breakpoints.up("md"),{paddingLeft:"32px"}),Object(g.a)(i,"backgroundColor","inherit"),i),avatar:{height:"48px",width:"48px",color:"white"},notifiIcon:{height:"30px",width:"30px",color:"white"},NavButton:{"& :hover":{color:"white",fontWeight:"800",backgroundColor:"#9c9dad"}}}})),Q=r(399),H=r.n(Q),Z=r(520),J=r.n(Z),X=r(521),Y=r.n(X),$=r(400),ee=r.n($),te=r(522),re=r.n(te),ne=r(524),ae=r.n(ne),ce=r(523),oe=r.n(ce);var ie=Object(p.a)()((function(e){var t=K(),r=e.width,n=Object(R.c)((function(e){return e.homeReducer.role})),a=Object(A.jsxs)("div",{style:{height:"100%",fontFamily:"Poppins !important"},children:[Object(A.jsx)("div",{className:t.logocontainer,children:Object(A.jsx)("img",{src:"/App_Icon.png",style:{width:220,height:80,color:"white"},alt:"Logo"})}),Object(A.jsx)(U.a,{style:{fontFamily:"Rubik, sans-serif"},className:t.HoverEffect,children:"postmaster"==n?Object(A.jsxs)("div",{children:[Object(A.jsx)(i.b,{to:"/dashboard",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Rubik, sans-serif",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{children:Object(A.jsx)(H.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Rubik, sans-serif"},className:t.DrawerLables,children:"Dashboard"})]})}),Object(A.jsx)(i.b,{to:"/live-delivery",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Rubik, sans-serif",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{children:Object(A.jsx)(J.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Rubik, sans-serif"},className:t.DrawerLables,children:"Live Delivery"})]})}),Object(A.jsx)(i.b,{to:"/statistics",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{style:{position:"relative"},children:Object(A.jsx)(Y.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Statistics"})]})}),Object(A.jsx)(i.b,{to:"/registration",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{style:{position:"relative"},children:Object(A.jsx)(ee.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Registration"})]})}),Object(A.jsx)(i.b,{to:"/complains",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{style:{position:"relative"},children:Object(A.jsx)(re.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Complains"})]})})]}):"supervisor"==n?Object(A.jsxs)("div",{children:[Object(A.jsx)(i.b,{to:"/dashboard",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{children:Object(A.jsx)(H.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Dashboard"})]})}),Object(A.jsx)(i.b,{to:"/registration",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{style:{position:"relative"},children:Object(A.jsx)(ee.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Registration"})]})}),Object(A.jsx)(i.b,{to:"/mail-assignments",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{style:{position:"relative"},children:Object(A.jsx)(oe.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Mail Assignment"})]})}),Object(A.jsx)(i.b,{to:"/mail-transfer",style:{color:"#f7f3f2",textDecoration:"none",fontFamily:"Mulish",fontWeight:"bold",fontSize:"16px",fontStyle:"normal"},activeStyle:{color:"#030114",backgroundColor:"#e6e3fa",fontWeight:"bold"},className:t.NavButton,children:Object(A.jsxs)(z.a,{button:!0,className:t.listItem,children:[Object(A.jsx)(q.a,{style:{position:"relative",color:"white"},children:Object(A.jsx)(ae.a,{color:"primary",style:{color:"#727287"}})}),Object(A.jsx)("label",{style:{fontFamily:"Poppins !important"},className:t.DrawerLables,children:"Mail transfers"})]})})]}):null}),Object(A.jsx)("div",{style:{position:"absolute",bottom:"10px",width:"100%",fontFamily:"Poppins !important"}})]});return Object(A.jsxs)("div",{className:t.root,children:[Object(A.jsx)("nav",{className:t.drawer,"aria-label":"mailbox folders",children:Object(A.jsx)(_.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0,children:a})}),Object(A.jsx)("main",{className:"xs"!==r?t.content:t.contentXs,children:Object(A.jsxs)("div",{children:[" ",e.children]})})]})})),se=r(1014),le=r(309),de=r(87),ue=r(310),be=r(1018),je=r(252),pe=r(534);var me=function(){var e=Object(R.c)((function(e){return e.dashboardReducer.revenueData}));return Object(A.jsxs)(se.a,{width:1100,height:450,data:e,margin:{top:10,right:30,left:10,bottom:10},children:[Object(A.jsxs)("defs",{children:[Object(A.jsxs)("linearGradient",{id:"colorNormalMail",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(A.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(A.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),Object(A.jsxs)("linearGradient",{id:"colorRegisterMail",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(A.jsx)("stop",{offset:"5%",stopColor:"#e1e81e",stopOpacity:.8}),Object(A.jsx)("stop",{offset:"95%",stopColor:"#e1e81e",stopOpacity:0})]}),Object(A.jsxs)("linearGradient",{id:"colorMoneyOrder",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(A.jsx)("stop",{offset:"5%",stopColor:"#daa1e3",stopOpacity:.8}),Object(A.jsx)("stop",{offset:"95%",stopColor:"#daa1e3",stopOpacity:0})]}),Object(A.jsxs)("linearGradient",{id:"colorPackage",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(A.jsx)("stop",{offset:"5%",stopColor:"#2ec720",stopOpacity:.8}),Object(A.jsx)("stop",{offset:"95%",stopColor:"#2ec720",stopOpacity:0})]})]}),Object(A.jsx)(le.a,{dataKey:"date",children:Object(A.jsx)(de.a,{value:"Date",offset:-5,position:"insideBottom"})}),Object(A.jsx)(ue.a,{label:{value:"Revenue",angle:-90,position:"insideLeft",textAnchor:"middle"}}),Object(A.jsx)(be.a,{strokeDasharray:"3 3"}),Object(A.jsx)(je.a,{}),Object(A.jsx)(pe.a,{type:"monotone",dataKey:"Normal Mail",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorNormalMail)"}),Object(A.jsx)(pe.a,{type:"monotone",dataKey:"Registered Mail",stroke:"#e1e81e",fillOpacity:1,fill:"url(#colorRegisterMail)"}),Object(A.jsx)(pe.a,{type:"monotone",dataKey:"Money Order",stroke:"#daa1e3",fillOpacity:1,fill:"url(#colorMoneyOrder)"}),Object(A.jsx)(pe.a,{type:"monotone",dataKey:"Package Delievery",stroke:"#2ec720",fillOpacity:1,fill:"url(#colorPackage)"})]})},fe=r(1020),Oe=r(1021),he=r(960),xe=r(1019),ge=r(559),ve=r(535),ye=r.n(ve),we=Object(v.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(g.a)({color:"white",fontFamily:"Rubik, sans-serif",fontWeight:"bold",fontSize:"20px",display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},inputInput:Object(g.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),userName:{color:"white",fontSize:"15px",paddingLeft:"10px",fontFamily:"Rubik, sans-serif",fontWeight:"normal"}}}));function Ne(e){var t=we(),r=a.a.useState(null),n=Object(l.a)(r,2),c=n[0],o=n[1],i=a.a.useState(null),s=Object(l.a)(i,2),d=s[0],u=s[1],b=Object(R.c)((function(e){return e.homeReducer.firstName})),p=Object(R.c)((function(e){return e.homeReducer.lastName})),m=Boolean(c),f=(Boolean(d),Object(R.b)()),O=function(){o(null),u(null)},h="primary-search-account-menu",x=Object(A.jsxs)(ge.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:h,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:O,children:[Object(A.jsx)(xe.a,{onClick:O,children:"Profile"}),Object(A.jsx)(xe.a,{onClick:O,children:"My account"}),Object(A.jsx)("hr",{}),Object(A.jsx)(xe.a,{onClick:function(e){e.preventDefault(),f({type:T})},children:"Logout"})]});return Object(A.jsxs)("div",{className:t.grow,children:[Object(A.jsx)(fe.a,{position:"static",style:{background:"#070712",paddingBottom:"10px"},children:Object(A.jsxs)(Oe.a,{children:[Object(A.jsx)(he.a,{className:t.title,variant:"h6",noWrap:!0,children:e.page}),Object(A.jsx)("div",{className:t.grow}),Object(A.jsx)("div",{children:Object(A.jsx)(j.a,{edge:"end","aria-label":"account of current user","aria-controls":h,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"error",children:Object(A.jsx)(ye.a,{color:"primary",style:{fontSize:40}})})}),Object(A.jsxs)("div",{className:t.userName,children:[b," ",p]})]})}),x]})}var Se=r(19),Re=r(311),ke=Object(m.a)((function(){return{root:{textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#01011a","&:hover":{backgroundColor:"#000000",fontSize:"14px"},minWidth:"100px"}}}))(y.a);var De=function(){var e=Object(R.c)((function(e){return e.dashboardReducer})),t={filename:"Revenue-Report.csv",headers:[{label:"Date",key:"date"},{label:"Normal Mail",key:"Normal Mail"},{label:"Registered Mail",key:"Registered Mail"},{label:"Money Order",key:"Money Order"},{label:"Package Delievery",key:"Package Delievery"}],data:e.revenueData};return e.dataRetreived,Object(A.jsx)("div",{children:Object(A.jsx)(Re.CSVLink,Object(Se.a)(Object(Se.a)({},t),{},{style:{textDecoration:"none"},children:Object(A.jsx)(ke,{variant:"contained",color:"#63231c",disableElevation:!0,type:"submit",children:"EXPORT REVENUE REPORT"})}))})},Ce="PERFORMANCE_DATA_REQUEST",Ee="PERFORMANCE_DATA_SUCCESS",Te="PERFORMANCE_DATA_ERROR";function Ie(e){return{type:Ee,data:e}}var Le=r(555);r(728),r(729),r(730);function Pe(e){var t=e.dateRange,r=e.setDateRange;return console.log("Date range - ",t),Object(A.jsx)("div",{children:Object(A.jsx)(d.a,{container:!0,children:Object(A.jsx)(d.a,{item:!0,style:{marginTop:"25px"},children:Object(A.jsx)(Le.a,{value:t,onChange:r,placeholder:"Select Date Range",style:{width:230}})})})})}function Me(){var e=new Date,t=new Date(e-1728e6),r=a.a.useState([t,e]),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(R.c)((function(e){return e.homeReducer.postOffice})),u=Object(R.b)();return Object(n.useEffect)((function(){u(function(e,t,r){return{type:Ce,startDate:e,endDate:t,postOffice:r}}(o[0],o[1],s))}),[u,o,s]),Object(A.jsx)("div",{children:Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Dashboard"}),Object(A.jsx)("div",{children:Object(A.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",spacing:5,children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(Pe,{dateRange:o,setDateRange:i})}),Object(A.jsx)(d.a,{item:!0,style:{marginTop:"5px"},children:Object(A.jsx)(De,{})})]})}),Object(A.jsx)("div",{style:{marginTop:"20px",paddingBottom:"15px"},children:Object(A.jsx)(me,{})})]})})}var Ae="AUTHORIZATION_REQUEST",Fe="AUTHORIZATION_SUCCESS",We="AUTHORIZATION_ERROR";function Be(e,t,r){return{type:Fe,data:e,currentUserID:t,currentUserEmail:r}}var _e=r(1022),Ue=Object(v.a)((function(){return{logocontainer:{marginTop:"100px"},errorCode:{marginTop:"60px",fontSize:"30px",fontWeight:900,color:"red"},errorMessage:{fontSize:"25px"}}}));function ze(e){var t=Ue();return Object(A.jsx)(_e.a,{children:Object(A.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",children:[Object(A.jsx)(d.a,{item:!0,className:t.logocontainer,children:Object(A.jsx)("div",{children:Object(A.jsx)("img",{src:"/App_Icon.png",style:{width:220,height:80,color:"white"},alt:"Logo"})})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:t.errorCode,children:"Error: 401"})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:t.errorMessage,children:"UnAuthorized Access....."})})]})})}var qe=r(159),Ge=r(62),Ve=(r(899).MarkerWithLabel,Object(qe.withScriptjs)(Object(qe.withGoogleMap)((function(e){var t=e.liveLocations,r=e.defaultZoom,a=e.defaultCenter,c=e.postOfficeLocation,o=t.length,i=n.useState(new Array(o).fill(!1)),s=Object(l.a)(i,2),d=s[0],u=s[1];n.useEffect((function(){u(new Array(o).fill(!1))}),[]);var b={url:"http://maps.google.com/mapfiles/ms/micons/police.png",scaledSize:new window.google.maps.Size(28,28),labelOrigin:new window.google.maps.Point(19,12)},j={url:"http://maps.google.com/mapfiles/ms/micons/rangerstation.png",scaledSize:new window.google.maps.Size(42,42),labelOrigin:new window.google.maps.Point(19,12)};return Object(A.jsx)("div",{children:Object(A.jsxs)(qe.GoogleMap,{options:{fullscreenControl:!1},defaultCenter:a,defaultZoom:r,children:[Object(A.jsx)(qe.Marker,{position:{lat:c._lat,lng:c._long},icon:j}),t.map((function(e,t){return Object(A.jsx)(qe.Marker,{position:{lat:e.location.lat,lng:e.location.lng},icon:b,onClick:function(){d[t]=!d[t],u(JSON.parse(JSON.stringify(d)))},children:d[t]&&Object(A.jsx)(qe.InfoWindow,{options:{backgroundColor:"red",boxStyle:{boxShadow:"3px 3px 10px rgba(0,0,0,0.6)"}},onCloseClick:function(){d[t]=!1,u(JSON.parse(JSON.stringify(d)))},children:Object(A.jsxs)("div",{children:[Object(A.jsxs)("p",{style:{fontWeight:"bold"},children:["Name: ",e.firstName+" "+e.lastName]}),Object(A.jsxs)("p",{children:["Email: ",e.email]}),Object(A.jsxs)("p",{children:["Contact Number: ",e.contactNumber]}),Object(A.jsxs)("p",{children:["Last seen: ",Object(Ge.a)(new Date(e.timeStamp),"dd/mm/yyyy hh:MM TT")]})]})})},t)}))]})})})))),Ke=Object(v.a)((function(){return{Map:{}}})),Qe="GET_LOCATIONS_REQUEST",He="GET_LOCATIONS_SUCCESS",Ze="GET_LOCATIONS_ERROR";function Je(e,t){return{type:He,locationData:e,postOfficeData:t}}function Xe(e){return{type:Ze,error:e}}function Ye(){var e=Ke(),t=Object(R.c)((function(e){return e.LiveDeliveryReducer})),r=Object(R.c)((function(e){return e.homeReducer.postOffice})),a=Object(R.b)();Object(n.useEffect)((function(){a(function(e){return{type:Qe,postOffice:e}}(r))}),[a]);return Object(A.jsx)("div",{children:Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Live Delivery"}),t.locationsRetrieved?Object(A.jsx)("div",{className:e.Map,children:Object(A.jsx)(Ve,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC2lWdYmx2Q8xZEENBM7FYfa5XJCVSIRIg&v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(A.jsx)("div",{style:{height:"100%"}}),containerElement:Object(A.jsx)("div",{style:{height:"90vh",width:"100%",backgroundColor:"#fcdcdc"}}),mapElement:Object(A.jsx)("div",{style:{height:"100%"}}),liveLocations:t.locationData,postOfficeLocation:t.postOffice,defaultOptions:{fullscreenControl:!0},showLabels:[],defaultZoom:14,defaultCenter:{lat:t.postOffice._lat,lng:t.postOffice._long}})}):t.isLoading?Object(A.jsx)(d.a,{container:!0,alignItems:"center",style:{marginTop:"25%",marginLeft:"45%"},children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(M.a,{size:60,color:"secondary",style:{color:"#03031c"}})})}):Object(A.jsx)("p",{style:{color:"red",textAlign:"center",marginTop:"25%",marginLeft:"45%"},children:"Error Occured: Please try again later"})]})})}var $e=Object(v.a)((function(){return{InputLine:{marginBottom:"6px",marginLeft:"80px"},InputLabel:{textAlign:"left",minWidth:"238px",fontSize:"18px",marginTop:"14px"},Input:{marginLeft:"70px",minWidth:"350px"},Form:{backgroundColor:"#dddce6",marginTop:"30px",paddingTop:"50px",marginLeft:"30px",marginRight:"30px",marginBottom:"50px",paddingBottom:"60px",borderRadius:10},password:{marginBottom:"16px",height:"48px",backgroundColor:"#FDFDFD !important",fontFamily:"Poppins",borderStyle:"solid",borderWidth:1,borderColor:"#D9EAFD",borderRadius:8},ErrorText:{marginTop:"14px",color:"#6e0603"},errorText:{fontSize:"14px",color:"#6e0603",float:"left",marginLeft:"4px",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600},successText:{fontSize:"16px",color:"green",float:"left",marginLeft:"40%",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600},loadingText:{fontSize:"16px",color:"orange",float:"left",marginLeft:"40%",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600},errorTextMsg:{fontSize:"16px",color:"#6e0603",float:"left",marginLeft:"35%",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600}}})),et=Object(m.a)((function(){return{root:{textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#01011a","&:hover":{backgroundColor:"#000000",fontSize:"14px"},minWidth:"100px"}}}))(y.a),tt=Object(v.a)((function(){return{errorText:{fontSize:"12px",color:"#F7685B",float:"left",marginLeft:"13px",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600}}})),rt="ADD_EMPLOYEE_REQUEST",nt="ADD_EMPLOYEE_SUCCESS",at="ADD_EMPLOYEE_ERROR";function ct(e){return{type:at,data:e}}var ot=function(e){var t=$e(),r=(tt(),[].error),a=Object(R.b)(),c=Object(R.c)((function(e){return e.homeReducer.currentUserID})),o=Object(R.c)((function(e){return e.registrationReducer})),i=Object(R.c)((function(e){return e.homeReducer.postOffice})),s=Object(R.c)((function(e){return e.loginReducer.idToken})),p=Object(n.useState)(!1),m=Object(l.a)(p,2),f=m[0],h=m[1],g=Object(n.useState)(!1),v=Object(l.a)(g,2),y=v[0],w=v[1],N=Object(k.a)({initialValues:{email:"",password1:"111111",firstName:"",lastName:"",contactNumber:"",nic:"",password2:"111111",postOffice:i,role:"",userID:c},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email field is required",e.firstName||(t.firstName="First name is required"),e.lastName||(t.lastName="Last name is required"),e.contactNumber||(t.contactNumber="Contact Number is required"),e.nic||(t.nic="NIC is required"),e.password2||(t.password2="Password confirmation is required"),e.password2!=e.password1&&(t.password2="Password confirmation is incorrect"),e.role||(t.role="Employee role is required"),e.password1?e.password1.length<6&&(t.password1="Password should contain atleast 6 characters"):t.password1="Password field is required",t},onSubmit:function(e){N.touched.email=!1,N.touched.password1=!1,N.touched.firstName=!1,N.touched.lastName=!1,N.touched.contactNumber=!1,N.touched.nic=!1,N.touched.password2=!1,N.touched.role=!1,a(function(e,t){return{type:rt,data:e,idToken:t}}(e,s))}});return Object(A.jsx)("div",{className:t.Form,children:Object(A.jsx)(d.a,{container:!0,alignItems:"center",children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)("form",{onSubmit:N.handleSubmit,autoComplete:"off",children:[Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Employee Firstname"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",type:"text",name:"firstName",onChange:N.handleChange,value:N.values.firstName,onBlur:N.handleBlur})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsxs)("span",{children:[N.touched.firstName&&void 0!==N.errors.firstName?Object(A.jsx)("p",{className:t.errorText,children:N.errors.firstName}):null,void 0!==N.errors.firstName||N.touched.firstName?null:Object(A.jsx)("p",{className:t.errorText,children:r})]})})]}),Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Employee Lastname"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",type:"text",name:"lastName",onChange:N.handleChange,value:N.values.lastName,onBlur:N.handleBlur})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsxs)("span",{children:[N.touched.lastName&&void 0!==N.errors.lastName?Object(A.jsx)("p",{className:t.errorText,children:N.errors.lastName}):null,void 0!==N.errors.lastName||N.touched.lastName?null:Object(A.jsx)("p",{className:t.errorText,children:r})]})})]}),Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Employee Type"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",name:"role",onChange:N.handleChange,select:!0,label:"Employee Type",children:e.employeeTypes.map((function(e){return Object(A.jsx)(xe.a,{value:e.value,children:e.label},e.value)}))})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsxs)("span",{children:[N.touched.role&&void 0!==N.errors.role?Object(A.jsx)("p",{className:t.errorText,children:N.errors.role}):null,void 0!==N.errors.role||N.touched.role?null:Object(A.jsx)("p",{className:t.errorText,children:r})]})})]}),Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Employee Contact Number"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",type:"text",name:"contactNumber",onChange:N.handleChange,value:N.values.contactNumber,onBlur:N.handleBlur})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsxs)("span",{children:[N.touched.contactNumber&&void 0!==N.errors.contactNumber?Object(A.jsx)("p",{className:t.errorText,children:N.errors.contactNumber}):null,void 0!==N.errors.contactNumber||N.touched.contactNumber?null:Object(A.jsx)("p",{className:t.errorText,children:r})]})})]}),Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Employee NIC Number"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",type:"text",name:"nic",onChange:N.handleChange,value:N.values.nic,onBlur:N.handleBlur})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsxs)("span",{children:[N.touched.nic&&void 0!==N.errors.nic?Object(A.jsx)("p",{className:t.errorText,children:N.errors.nic}):null,void 0!==N.errors.nic||N.touched.nic?null:Object(A.jsx)("p",{className:t.errorText,children:r})]})})]}),Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Employee Email"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",type:"email",name:"email",onChange:N.handleChange,value:N.values.email,onBlur:N.handleBlur})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsxs)("span",{children:[N.touched.email&&void 0!==N.errors.email?Object(A.jsx)("p",{className:t.errorText,children:N.errors.email}):null,void 0!==N.errors.email||N.touched.email?null:Object(A.jsx)("p",{className:t.errorText,children:r})]})})]}),Object(A.jsxs)(d.a,{container:!0,spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:"Password"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",name:"password1",type:f?"text":"password",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.password1,InputProps:{endAdornment:Object(A.jsx)(b.a,{position:"end",children:""!==N.values.password1?Object(A.jsx)(j.a,{style:{color:"#090726"},id:"iconButton","aria-label":"toggle password visibility",onClick:function(){return h(!f)},onMouseDown:function(){return h(!f)},children:f?Object(A.jsx)(O.a,{}):Object(A.jsx)(x.a,{})}):Object(A.jsx)("p",{})})}})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsx)("span",{children:N.touched.password1&&void 0!==N.errors.password1?Object(A.jsx)("span",{children:Object(A.jsx)("p",{className:t.errorText,children:N.errors.password1})}):null})})]}),Object(A.jsxs)(d.a,{container:!0,spacing:5,className:t.InputLine,children:[Object(A.jsx)(d.a,{item:!0,className:t.InputLabel,children:Object(A.jsx)("div",{children:" Confirm Password"})}),Object(A.jsx)(d.a,{item:!0,className:t.Input,children:Object(A.jsx)(u.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",name:"password2",type:y?"text":"password",onChange:N.handleChange,onBlur:N.handleBlur,value:N.values.password2,InputProps:{endAdornment:Object(A.jsx)(b.a,{position:"end",children:""!==N.values.password2?Object(A.jsx)(j.a,{style:{color:"#090726"},id:"iconButton","aria-label":"toggle password visibility",onClick:function(){return w(!y)},onMouseDown:function(){return w(!y)},children:y?Object(A.jsx)(O.a,{}):Object(A.jsx)(x.a,{})}):Object(A.jsx)("p",{})})}})}),Object(A.jsx)(d.a,{item:!0,className:t.ErrorText,children:Object(A.jsx)("span",{children:N.touched.password2&&void 0!==N.errors.password2?Object(A.jsx)("span",{children:Object(A.jsx)("p",{className:t.errorText,children:N.errors.password2})}):null})})]}),Object(A.jsxs)(d.a,{container:!0,direction:"column",style:{marginBelow:"50px"},children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)("span",{children:[0==o.isRequested&&0==o.requestSuccessful&&1==o.requestUnSuccessful?Object(A.jsx)("p",{className:t.errorTextMsg,children:"Registration Unsuccessfull Try Again"}):null,0==o.isRequested&&1==o.requestSuccessful&&0==o.requestUnSuccessful?Object(A.jsx)("p",{className:t.successText,children:"Registration Successfull"}):null,1==o.isRequested&&0==o.requestSuccessful&&0==o.requestUnSuccessful?Object(A.jsx)("p",{className:t.loadingText,children:"Registering.........."}):null]})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(et,{variant:"contained",color:"#63231c",className:t.loginButton,disableElevation:!0,type:"submit",children:"REGISTER EMPLOYEE"})})]})]})})})})};function it(){var e=Object(R.c)((function(e){return e.homeReducer.role}));return Object(A.jsx)("div",{style:{backgroundColor:"#fab8b6"},children:Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Registration"}),"postmaster"==e?Object(A.jsx)(ot,{employeeTypes:[{label:"Postmaster",value:"postmaster"},{label:"Supervisor",value:"supervisor"},{label:"Receptionist",value:"receptionist"},{label:"Postman",value:"postman"},{label:"Delivery Log Keeper",value:"deliveryLogKeeper"}]}):Object(A.jsx)(ot,{employeeTypes:[{label:"Receptionist",value:"receptionist"},{label:"Postman",value:"postman"},{label:"Delivery Log Keeper",value:"deliveryLogKeeper"}]})]})})}var st=r(1038),lt=r(549),dt=r(550);var ut=function(){var e=Object(R.c)((function(e){return e.statisticsReducer.revenuePieData})),t=["#0088FE","#00C49F","#FFBB28","#FF8042"];return Object(A.jsx)(st.a,{width:500,height:350,children:Object(A.jsx)(lt.a,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:130,fill:"#8884d8",label:function(e){return e.name},children:null===e||void 0===e?void 0:e.map((function(e,r){return Object(A.jsx)(dt.a,{fill:t[r%t.length]},"cell-".concat(r))}))})})},bt=r(1023),jt=r(250),pt=r(560);var mt=function(){var e=Object(R.c)((function(e){return e.statisticsReducer.countData}));return Object(A.jsxs)(bt.a,{width:1050,height:400,data:e,margin:{top:5,right:5,left:10,bottom:5},children:[Object(A.jsx)(be.a,{strokeDasharray:"3 3"}),Object(A.jsx)(le.a,{dataKey:"Date"}),Object(A.jsx)(ue.a,{label:{value:"Number of Items",angle:-90,position:"insideLeft",textAnchor:"middle"}}),Object(A.jsx)(je.a,{}),Object(A.jsx)(jt.a,{}),Object(A.jsx)(pt.a,{type:"monotone",dataKey:"Registered Mail",stroke:"#8884d8"}),Object(A.jsx)(pt.a,{type:"monotone",dataKey:"Normal Mail",stroke:"#82ca9d"}),Object(A.jsx)(pt.a,{type:"monotone",dataKey:"Money Order",stroke:"#daa1e3"}),Object(A.jsx)(pt.a,{type:"monotone",dataKey:"Package Delievery",stroke:"#dbd939"})]})},ft=Object(v.a)((function(){return{PieBox:{textAlign:"center"},PieGrid:{marginTop:"30px"},PieTitle:{fontFamily:"Rubik, sans-serif",fontSize:"16px"}}}));r(557),r(84),r(1033);var Ot="COUNT_DATA_REQUEST",ht="COUNT_DATA_SUCCESS",xt="COUNT_DATA_ERROR";function gt(e,t,r){return{type:ht,countList:e,revenuePieData:t,countPieData:r}}var vt=function(){var e=Object(R.c)((function(e){return e.statisticsReducer.countPieData})),t=["#0088FE","#00C49F","#FFBB28","#FF8042"];return Object(A.jsx)(st.a,{width:500,height:350,children:Object(A.jsx)(lt.a,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:130,fill:"#8884d8",label:function(e){return e.name},children:null===e||void 0===e?void 0:e.map((function(e,r){return Object(A.jsx)(dt.a,{fill:t[r%t.length]},"cell-".concat(r))}))})})};var yt=function(){var e={filename:"Statistics-Report.csv",headers:[{label:"Date",key:"Date"},{label:"Normal Mail",key:"Normal Mail"},{label:"Registered Mail",key:"Registered Mail"},{label:"Money Order",key:"Money Order"},{label:"Package Delievery",key:"Package Delievery"}],data:Object(R.c)((function(e){return e.statisticsReducer})).countData};return Object(A.jsx)("div",{children:Object(A.jsx)(Re.CSVLink,Object(Se.a)(Object(Se.a)({},e),{},{style:{textDecoration:"none"},children:Object(A.jsx)(ke,{variant:"contained",color:"#63231c",type:"submit",children:"EXPORT STATISTICS REPORT"})}))})};function wt(){var e=ft(),t=new Date,r=new Date(t-1728e6),c=a.a.useState([r,t]),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(R.c)((function(e){return e.homeReducer.postOffice})),b=Object(R.b)();return Object(n.useEffect)((function(){b(function(e,t,r){return{type:Ot,startDate:e,endDate:t,postOffice:r}}(i[0],i[1],u))}),[b,i,u]),Object(A.jsx)("div",{children:Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Statistics"}),Object(A.jsx)("div",{children:Object(A.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",spacing:5,children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(Pe,{dateRange:i,setDateRange:s})}),Object(A.jsx)(d.a,{item:!0,style:{marginTop:"5px"},children:Object(A.jsx)(yt,{})})]})}),Object(A.jsx)("div",{style:{marginTop:"80px"},children:Object(A.jsx)(mt,{})}),Object(A.jsxs)(d.a,{container:!0,direction:"row",spacing:0,alignItems:"center",justify:"space-evenly",className:e.PieGrid,children:[Object(A.jsxs)(d.a,{item:!0,className:e.PieBox,children:[Object(A.jsx)("div",{className:e.PieTitle,children:"Mail Service Revenue"}),Object(A.jsx)(ut,{})]}),Object(A.jsxs)(d.a,{item:!0,className:e.PieBox,children:[Object(A.jsx)("div",{className:e.PieTitle,children:"Mail Service Count"}),Object(A.jsx)(vt,{})]})]}),Object(A.jsx)("div",{})]})})}var Nt=r(1),St=r.n(Nt),Rt=r(6),kt=Object(v.a)((function(){return{form:{backgroundColor:"#dddce6",justifyContent:"center",maxWidth:"850px",display:"flex",marginLeft:"10%",marginRight:"10%",marginBottom:"30px",border:"8px black",borderRadius:10},button:{alignContent:"left",paddingBottom:"15px"},fieldLabel:{fontSize:"18px",color:"#2B292B",textAlign:"left",fontWeight:"normal"},fieldValue:{marginLeft:"5px",fontWeight:"bold",fontSize:"18px",letterSpacing:"0.25px",fontStyle:"normal",color:"#2B292B",textAlign:"left"}}})),Dt=Object(m.a)((function(){return{root:{textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#1b1b2e","&:hover":{backgroundColor:"#000000",fontSize:"14px"},minWidth:"100px"}}}))(y.a),Ct="COMPLAINS_DATA_REQUEST",Et="COMPLAINS_DATA_SUCCESS",Tt="COMPLAINS_DATA_ERROR",It="MARK_SOLVED_REQUEST",Lt="MARK_SOLVED_SUCCESS",Pt="MARK_SOLVED_ERROR";function Mt(e){return{type:Ct,postOffice:e}}function At(e){return{type:Et,data:e}}function Ft(e){return{type:It,data:e}}function Wt(e){var t=Object(R.b)(),r=kt(),n=e.complain,a=e.postOffice;function c(){return(c=Object(Rt.a)(St.a.mark((function e(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ft(n.complainID)),t(Mt(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsx)("div",{className:r.form,children:Object(A.jsxs)(d.a,{container:!0,direction:"column",children:[Object(A.jsx)(d.a,{item:!0,style:{marginTop:"10px"},children:Object(A.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)(d.a,{container:!0,direction:"row",style:{marginLeft:"10px"},children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldLabel,children:"Name: "})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldValue,"data-testid":"name-id",children:n.name})})]})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)(d.a,{container:!0,direction:"row",style:{marginRight:"10px"},children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldLabel,children:"PID: "})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)("div",{className:r.fieldValue,children:[n.pid," "]})})]})})]})}),Object(A.jsx)(d.a,{item:!0,style:{marginTop:"10px"},children:Object(A.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)(d.a,{container:!0,direction:"row",children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldLabel,style:{marginLeft:"10px"},children:"Email: "})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldValue,children:n.email})})]})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)(d.a,{container:!0,direction:"row",children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldLabel,children:"Contact Number: "})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)("div",{className:r.fieldValue,children:[n.contactNumber," "]})})]})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)(d.a,{container:!0,direction:"row",style:{marginRight:"10px"},children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldLabel,children:"Date: "})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldValue,children:n.date})})]})})]})}),Object(A.jsx)(d.a,{item:!0,style:{marginTop:"10px"},children:Object(A.jsx)(d.a,{container:!0,direction:"row",children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)(d.a,{container:!0,direction:"row",style:{marginLeft:"10px"},children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldLabel,children:"Content: "})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)("div",{className:r.fieldValue,children:n.message})})]})})})}),Object(A.jsx)(d.a,{item:!0,style:{marginTop:"10px"},children:Object(A.jsx)("div",{className:r.button,children:Object(A.jsx)(Dt,{variant:"contained",color:"#63231c",className:r.loginButton,disableElevation:!0,type:"submit",onClick:function(){return function(){return c.apply(this,arguments)}()},children:"MARK AS RESOLVED"})})})]})})}function Bt(){var e=Object(R.c)((function(e){return e.homeReducer.postOffice})),t=Object(R.b)(),r=Object(R.c)((function(e){return e.complainsReducer}));return Object(n.useEffect)((function(){t(Mt(e))}),[t]),Object(A.jsx)("div",{children:Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Dashboard"}),!1===r.isRequested&&!0===r.dataRetrieved?r.complainData.map((function(t){return Object(A.jsx)("div",{style:{marginTop:"30px"},children:Object(A.jsx)(Wt,{complain:t,postOffice:e})})})):!0===r.isRequested&&!1===r.dataRetrieved?Object(A.jsx)(d.a,{container:!0,alignItems:"center",style:{marginTop:"25%",marginLeft:"45%"},children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(M.a,{size:60,color:"secondary",style:{color:"#03031c"}})})}):Object(A.jsx)("h3",{children:"Error Occured"})]})})}var _t=r(1027),Ut=r(1029),zt=r(1024),qt=r(1026),Gt=r(1028),Vt=r(1025),Kt=r(1036),Qt=r(959),Ht="GET_MAILS_REQUEST",Zt="GET_MAILS_SUCCESS",Jt="GET_MAILS_ERROR",Xt="CHANGE_POSTMAN",Yt="SUBMIT_ASSIGNMENTS_REQUEST",$t="SUBMIT_ASSIGNMENTS_SUCCESS",er="SUBMIT_ASSIGNMENTS_ERROR";function tr(e,t){return{type:Zt,assignments:e,postmenRoutes:t}}function rr(e){return{type:Jt,data:e}}function nr(e){return{type:er,data:e}}var ar=Object(m.a)((function(e){return{head:{backgroundColor:"#bcbbc7",color:"black",fontFamily:"bold",fontWeight:800,fontSize:"18px"},body:{fontSize:14}}}))(zt.a),cr=Object(m.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Vt.a),or=Object(v.a)({table:{minWidth:700}});function ir(e){var t=or(),r=Object(R.b)(),n=e.data.assignments,a=e.data.postmenData;function c(e,t){r(function(e,t){return{type:Xt,pid:e,id:t}}(e,t))}return Object(A.jsx)(qt.a,{component:Qt.a,children:Object(A.jsxs)(_t.a,{className:t.table,"aria-label":"customized table",children:[Object(A.jsx)(Gt.a,{children:Object(A.jsxs)(Vt.a,{children:[Object(A.jsx)(ar,{children:"Post ID"}),Object(A.jsx)(ar,{align:"center",children:"Address No"}),Object(A.jsx)(ar,{align:"center",children:"Street 1"}),Object(A.jsx)(ar,{align:"center",children:"Street 2"}),Object(A.jsx)(ar,{align:"center",children:"City"}),Object(A.jsx)(ar,{align:"center",children:"Postman"})]})}),Object(A.jsx)(Ut.a,{children:n.map((function(e,t){return Object(A.jsxs)(cr,{children:[Object(A.jsx)(ar,{component:"th",scope:"row",children:e.pid}),Object(A.jsx)(ar,{align:"center",children:e.addressNumber}),Object(A.jsx)(ar,{align:"center",children:e.street1}),Object(A.jsx)(ar,{align:"center",children:e.street2}),Object(A.jsx)(ar,{align:"center",children:e.city}),Object(A.jsx)(ar,{align:"center",children:Object(A.jsx)(Kt.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",name:"postman",defaultValue:e.postmanID,onChange:function(t){return c(e.pid,t.target.value)},children:a.map((function(e){return Object(A.jsxs)(xe.a,{value:e.id,children:[e.firstName," ",e.lastName]},e.id)}))})})]},t)}))})]})})}var sr=Object(m.a)((function(){return{root:{textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#01011a","&:hover":{backgroundColor:"#000000",fontSize:"14px"},minWidth:"100px"}}}))(y.a),lr=Object(v.a)((function(){return{errorText:{fontSize:"14px",color:"#6e0603",float:"left",marginLeft:"4px",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600},successText:{fontSize:"16px",color:"green",float:"left",marginLeft:"40%",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600},loadingText:{fontSize:"16px",color:"orange",float:"left",marginLeft:"40%",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600},errorTextMsg:{fontSize:"16px",color:"#6e0603",float:"left",marginLeft:"35%",fontFamily:"Poppins",fontStyle:"normal",fontWeight:600}}}));function dr(){var e=Object(R.c)((function(e){return e.homeReducer.postOffice})),t=Object(R.c)((function(e){return e.MailAssignmentsReducer})),r=Object(n.useState)(!1),a=Object(l.a)(r,2),c=a[0],o=a[1],i=Object(R.b)(),s=lr();function u(){var e;i((e=t.assignments,{type:Yt,assignments:e})),o(!c)}return Object(n.useEffect)((function(){i(function(e){return{type:Ht,postOffice:e}}(e))}),[i,e,c]),Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Mail Assignments"}),0==t.isLoading&&1==t.dataRetreived?Object(A.jsxs)("div",{style:{marginTop:"20px",marginLeft:"20px",marginRight:"20px"},children:[Object(A.jsx)(ir,{data:t}),Object(A.jsxs)(d.a,{container:!0,justifyContent:"center",style:{marginTop:"20px"},direction:"column",children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(sr,{variant:"contained",color:"#63231c",disableElevation:!0,onClick:function(){return u()},children:"CONFIRM MAIL ASSIGNMENTS"})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsxs)("span",{children:[0==t.submitRequested&&0==t.submitSuccess&&1==t.submitFailure?Object(A.jsx)("p",{className:s.errorTextMsg,children:"Submission Unsuccessfull Try Again"}):null,0==t.submitRequested&&1==t.submitSuccess&&0==t.submitFailure?Object(A.jsx)("p",{className:s.successText,children:"Submission Successfull"}):null,1==t.submitRequested&&0==t.submitSuccess&&0==t.submitFailure?Object(A.jsx)("p",{className:s.loadingText,children:"Submission in progress.........."}):null]})})]})]}):1==t.isLoading&&0==t.dataRetreived?Object(A.jsx)(d.a,{container:!0,alignItems:"center",style:{marginTop:"25%",marginLeft:"45%"},children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(M.a,{size:60,color:"secondary"})})}):Object(A.jsx)("p",{style:{color:"red",textAlign:"center",marginTop:"25%",marginLeft:"45%"},children:"Error Occured: Please try again later"})]})}var ur=r(1039),br=r(1031),jr=r(1030),pr=r(551),mr=r.n(pr),fr=r(1032),Or=Object(v.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:"#dfdfe8"},icon:{verticalAlign:"bottom",height:20,width:20},accorditionHeading:{backgroundColor:"#0f0f2e",color:"white"},details:{alignItems:"center",backgroundColor:"#d7d7db"},accordionActions:{backgroundColor:"#d7d7db",paddingBottom:"10px"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),hr=Object(m.a)((function(){return{root:{textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#1b1b2e","&:hover":{backgroundColor:"#000000",fontSize:"14px"},minWidth:"100px"}}}))(y.a),xr=r(395),gr=r.n(xr),vr=r(396),yr=r.n(vr);function wr(e){var t=e.code;return Object(A.jsx)("div",{style:{marginTop:"30px"},children:Object(A.jsx)("div",{children:Object(A.jsx)(gr.a,{value:t})})})}function Nr(e){var t=Or(),r=a.a.useRef(),n=(Object(s.f)(),new Date),c=Object(Ge.a)(n,"yyyy/mm/dd"),o=e.transfer;return Object(A.jsx)("div",{className:t.root,children:Object(A.jsxs)(ur.a,{children:[Object(A.jsxs)(jr.a,{expandIcon:Object(A.jsx)(mr.a,{style:{color:"white"}}),"aria-controls":"panel1c-content",id:"panel1c-header",className:t.accorditionHeading,children:[Object(A.jsx)("div",{className:t.column,children:Object(A.jsxs)(he.a,{className:t.heading,style:{textAlign:"left"},children:["To: ",o.postOffice]})}),Object(A.jsx)("div",{className:t.column,children:Object(A.jsxs)(he.a,{className:t.secondaryHeading,children:["Number of Items: ",o.itemCount]})}),Object(A.jsx)("div",{className:t.column,children:Object(A.jsxs)(he.a,{className:t.secondaryHeading,children:["Date: ",c]})})]}),Object(A.jsx)(br.a,{className:t.details,children:Object(A.jsxs)(_t.a,{className:t.table,"aria-label":"simple table",children:[Object(A.jsx)(Gt.a,{children:Object(A.jsxs)(Vt.a,{children:[Object(A.jsx)(zt.a,{style:{fontWeight:"bold"},children:"PID"}),Object(A.jsx)(zt.a,{align:"center",style:{fontWeight:"bold"},children:"Post Type"}),Object(A.jsx)(zt.a,{align:"center",style:{fontWeight:"bold"},children:"Destination"}),Object(A.jsx)(zt.a,{align:"center",style:{fontWeight:"bold"},children:"Destination Address"})]})}),Object(A.jsx)(Ut.a,{children:o.mails.map((function(e){return Object(A.jsxs)(Vt.a,{children:[Object(A.jsx)(zt.a,{component:"th",scope:"row",children:e.pid}),Object(A.jsx)(zt.a,{align:"center",children:e.type}),Object(A.jsx)(zt.a,{align:"center",children:e.city}),Object(A.jsx)(zt.a,{align:"center",children:e.addressNumber+", "+e.street1+", "+e.street2+", "+e.city})]},e.name)}))})]})}),Object(A.jsx)(fr.a,{}),Object(A.jsx)("div",{ref:r,children:Object(A.jsx)(wr,{code:o.id})}),Object(A.jsx)(fr.a,{}),Object(A.jsx)(d.a,{container:!0,className:t.accordionActions,justifyContent:"center",children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(hr,{variant:"contained",color:"#63231c",disableElevation:!0,type:"submit",onClick:function(){!function(){var e=r.current;yr()(e,{scale:4}).then((function(e){var t=document.createElement("iframe");t.name="printf",t.id="printf",t.height=0,t.width=0,document.body.appendChild(t);var r=e.toDataURL({format:"jpeg",quality:"1.0"}),n='<img style="'.concat("\n            height:30vh;\n            width:100vw;\n            position:absolute;\n            left:0:\n            top:0;\n        ",'" src="').concat(r,'"/>'),a=window.frames.printf;a.document.write('<body onload="window.print()">'.concat(n,"</body>")),a.document.close()}))}()},children:"PRINT BARCODE"})})})]})})}var Sr="GET_TRANSFERS_REQUEST",Rr="GET_TRANSFERS_SUCCESS",kr="GET_TRANSFERS_ERROR",Dr="CONFIRM_TRANSFER_REQUEST",Cr="CONFIRM_TRANSFER_SUCCESS",Er="CONFIRM_TRANSFER_ERROR";function Tr(e){return{type:kr,data:e}}function Ir(e){return{type:Cr,transfers:e}}function Lr(e){return{type:Er,data:e}}var Pr=Object(m.a)((function(){return{root:{textDecoration:"none",color:"white",marginTop:"20px",backgroundColor:"#01011a","&:hover":{backgroundColor:"#000000",fontSize:"14px"},minWidth:"100px"}}}))(y.a);function Mr(){var e=Object(R.b)(),t=Object(R.c)((function(e){return e.homeReducer.postOffice})),r=Object(R.c)((function(e){return e.MailTransfersReducer}));function a(t){e(function(e){return{type:Dr,transfers:e}}(t))}return Object(n.useEffect)((function(){e(function(e){return{type:Sr,postOffice:e}}(1001))}),[e,t]),Object(A.jsxs)(ie,{children:[Object(A.jsx)(Ne,{page:"Mail Transfers"}),Object(A.jsx)(d.a,{container:!0,direction:"column",style:{marginTop:"50px"},children:1==r.dataRetreived&&0==r.isLoading?r.transfers.map((function(e){return Object(A.jsx)(d.a,{item:!0,style:{maxWidth:"1000px",marginLeft:"60px",marginBottom:"30px"},children:Object(A.jsx)(Nr,{transfer:e})})})):Object(A.jsx)(d.a,{container:!0,alignItems:"center",style:{marginTop:"15%",marginLeft:"45%"},children:Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(M.a,{size:60,color:"secondary"})})})}),1==r.dataRetreived&&0==r.isLoading&&r.transfers.length>0?Object(A.jsxs)(d.a,{container:!0,justifyContent:"center",direction:"column",children:[Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(Pr,{variant:"contained",color:"#63231c",disableElevation:!0,type:"submit",onClick:function(){return a(r.transfers)},children:"CONFIRM TRANSFERS"})}),1==r.confirmationRequested?Object(A.jsx)(M.a,{size:20,color:"secondary"}):1==r.confirmationSuccessfull?Object(A.jsx)("span",{style:{color:"green"},children:"Confirmation Successfull"}):1==r.confirmationSuccessfull?Object(A.jsx)("span",{style:{color:"red"},children:"Confirmation Unsuccessfull"}):null]}):1==r.dataRetreived&&0==r.isLoading?Object(A.jsx)("span",{style:{color:"red"},children:"No Transfer Data to display"}):null]})}var Ar=function(){var e=Object(R.b)(),t=Object(n.useContext)(F);Object(n.useEffect)((function(){var r;null==t||e((r={uID:t.currentUser.uid,email:t.currentUser.email},{type:Ae,data:r}))}),[e,t]);var r=Object(R.c)((function(e){return e.homeReducer.role})),a=Object(R.c)((function(e){return e.homeReducer.isAuthorized}));return Object(A.jsx)("div",{className:"App",children:1==a?Object(A.jsxs)(i.a,{children:[Object(A.jsx)(s.b,{exact:!0,path:"/login",component:B}),Object(A.jsx)(s.b,{exact:!0,path:"/dashboard",component:r&&("postmaster"==r||"supervisor"==r)?Me:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/live-delivery",component:r&&"postmaster"==r?Ye:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/registration",component:r&&("postmaster"==r||"supervisor"==r)?it:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/statistics",component:r&&"postmaster"==r?wt:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/complains",component:r&&"postmaster"==r?Bt:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/mail-assignments",component:r&&"supervisor"==r?dr:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/mail-transfer",component:r&&"supervisor"==r?Mr:ze}),Object(A.jsx)(s.b,{exact:!0,path:"/",children:Object(A.jsx)(s.a,{to:"/dashboard"})})]}):Object(A.jsx)("div",{style:{backgroundColor:"#d4d4d4",minHeight:"100vh"},children:Object(A.jsxs)(d.a,{container:!0,direction:"column",justify:"flex-end",alignItems:"center",spacing:3,style:{position:"absolute",top:"35%"},children:[Object(A.jsx)(d.a,{children:Object(A.jsx)("img",{src:"/App_Icon.png",style:{width:300,height:120},alt:"Logo"})}),Object(A.jsx)(d.a,{item:!0,children:Object(A.jsx)(M.a,{size:80,color:"secondary",style:{color:"#03031c"}})})]})})})},Fr=r(558),Wr=["component"],Br=function(e){var t=e.component,r=Object(Fr.a)(e,Wr),a=Object(n.useContext)(F).currentUser;return Object(A.jsx)(s.b,Object(Se.a)(Object(Se.a)({},r),{},{render:function(e){return a?Object(A.jsx)(t,Object(Se.a)({},e)):Object(A.jsx)(s.a,{to:"/login"})}}))};var _r=function(){return Object(A.jsx)(W,{children:Object(A.jsx)("div",{className:"App",children:Object(A.jsxs)(i.a,{children:[Object(A.jsx)(s.b,{exact:!0,path:"/login",component:B}),Object(A.jsx)(Br,{path:"/",component:Ar})]})})})},Ur=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1045)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))},zr=r(151),qr=r(63),Gr=r(24),Vr=St.a.mark(Kr);function Kr(e){var t,r,n;return St.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data.emailVal,r=e.data.passwordVal,n="",a.prev=3,a.next=6,P.auth().signInWithEmailAndPassword(t,r);case 6:return a.next=8,Object(Gr.c)({type:C});case 8:a.next=25;break;case 10:a.prev=10,a.t0=a.catch(3),a.t1=a.t0.code,a.next="auth/user-not-found"===a.t1?15:"auth/wrong-password"===a.t1?17:"auth/user-disabled"===a.t1?19:21;break;case 15:case 17:return n="Invalid email or password",a.abrupt("break",23);case 19:return n="User with this email has been suspended",a.abrupt("break",23);case 21:return n="Something went wrong! Please try again",a.abrupt("break",23);case 23:return a.next=25,Object(Gr.c)({type:E,error:n});case 25:case"end":return a.stop()}}),Vr,null,[[3,10]])}function Qr(){P.auth().signOut()}var Hr=r(397);L.a.initializeApp({apiKey:"AIzaSyDXONSGNu_khwenQFOLJjm5S9CQe--Y4tI",authDomain:"post-office-mis-505cc.firebaseapp.com",projectId:"post-office-mis-505cc",storageBucket:"post-office-mis-505cc.appspot.com",messagingSenderId:"931799860828",appId:"1:931799860828:web:ea6404206acd1e560a8899",measurementId:"G-WRG3Q0WPKG"});var Zr=L.a.firestore(),Jr=St.a.mark($r);function Xr(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=Object(Rt.a)(St.a.mark((function e(t,r){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr.collection("Users").doc(t).get().then((function(e){return e.data()})).catch((function(e){return console.log("Error occured"),null})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(e){var t,r,n;return St.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data.uID,r=e.data.email,a.prev=2,a.next=5,Object(Gr.b)(Xr,t,r);case 5:return n=a.sent,a.next=8,Object(Gr.c)(Be(n,t,r));case 8:a.next=12;break;case 10:a.prev=10,a.t0=a.catch(2);case 12:case"end":return a.stop()}}),Jr,null,[[2,10]])}r(956);var en=r(552),tn=r.n(en),rn=St.a.mark(cn);function nn(e){return an.apply(this,arguments)}function an(){return(an=Object(Rt.a)(St.a.mark((function e(t){var r,n,a,c,o,i,s,l,d,u,b;return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data.email,n=t.data.password1,a=t.data.firstName,c=t.data.lastName,o=t.data.contactNumber,i=t.data.nic,s=t.data.postOffice,l=t.data.role,d=t.data.userID,u=t.idToken,e.next=12,tn()({method:"post",url:"http://localhost:3050/create-user",params:{idToken:u,email:r,firstName:a,password:n,lastname:c,contactNumber:o,NIC:i,postOffice:s,role:l,userID:d},headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.status}));case 12:return b=e.sent,e.abrupt("return",b);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nn(e);case 3:if(201!=t.sent){t.next=9;break}return t.next=7,Object(Gr.c)({type:nt});case 7:t.next=11;break;case 9:return t.next=11,Object(Gr.c)(ct("Unexpected Error"));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(Gr.c)(ct(t.t0.toString()));case 17:case"end":return t.stop()}}),rn,null,[[0,13]])}var on=St.a.mark(un),sn=St.a.mark(bn),ln=St.a.mark(mn),dn=St.a.mark(fn);function un(e){var t,r,n,a,c;return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,r=Object(Ge.a)(t,"yyyy/mm/dd"),"postman",n=Zr.collectionGroup("locations").where("date","==",r),a=Object(qr.b)((function(e){return n.onSnapshot(e)})),e.prev=5,e.next=8,Object(Gr.d)(a);case 8:return c=e.sent,e.abrupt("return",c.docs.map((function(e){var t,r=e.data(),n=(null===(t=e.ref.parent.parent)||void 0===t?void 0:t.id)||"";if(r.geoLocations.length>0){var a,c,o=r.geoLocations.sort((function(e,t){return t.timestamp.seconds-e.timestamp.seconds}))[0];return{userDocumentID:n,timeStamp:1e3*o.timestamp.seconds,location:{lng:(null===(a=o.location)||void 0===a?void 0:a.longitude)||0,lat:(null===(c=o.location)||void 0===c?void 0:c.latitude)||0}}}return null})));case 12:return e.prev=12,e.t0=e.catch(5),console.log("Error when locations retireved'"),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),on,null,[[5,12]])}function bn(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e),"postman",r=Zr.collection("Users").where("role","==","postman").where("postOffice","==",t),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),console.log("getting postmen"),c.prev=5,c.next=8,Object(Gr.d)(n);case 8:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t=e.data();return{userDocumentID:e.id,firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,postOffice:t.postOffice.id}})));case 12:return c.prev=12,c.t0=c.catch(5),console.log("Error when taking postman details"),c.abrupt("return","Error");case 16:case"end":return c.stop()}}),sn,null,[[5,12]])}function jn(e){return pn.apply(this,arguments)}function pn(){return(pn=Object(Rt.a)(St.a.mark((function e(t){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zr.collection("PostOffice").doc(t).get().then((function(e){return e.data()})).catch((function(e){return console.log("Error occured"),null})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){var r;return St.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.map((function(t){var r=e.filter((function(e){return e.userDocumentID==t.userDocumentID}))[0];return{userDocumentID:t.documentID,firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,postOffice:t.postOffice,timeStamp:null===r||void 0===r?void 0:r.timeStamp,location:{lng:(null===r||void 0===r?void 0:r.location.lng)||0,lat:(null===r||void 0===r?void 0:r.location.lat)||0}}})),n.abrupt("return",r);case 2:case"end":return n.stop()}}),ln)}function fn(e){var t,r,n,a,c;return St.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.postOffice,o.next=4,Object(Gr.b)(un);case 4:return r=o.sent,o.next=7,Object(Gr.b)(bn,t);case 7:return n=o.sent,o.next=10,Object(Gr.b)(jn,t);case 10:return a=o.sent,o.next=13,Object(Gr.b)(mn,r,n);case 13:if(c=o.sent,"Error"==r){o.next=19;break}return o.next=17,Object(Gr.c)(Je(c,a));case 17:o.next=21;break;case 19:return o.next=21,Object(Gr.c)(Xe("Unknown Error"));case 21:o.next=28;break;case 23:return o.prev=23,o.t0=o.catch(0),console.log("Errorr -",o.t0),o.next=28,Object(Gr.c)(Xe(o.t0));case 28:case"end":return o.stop()}}),dn,null,[[0,23]])}var On=r(44),hn=St.a.mark(yn),xn=St.a.mark(wn),gn=St.a.mark(Nn),vn=St.a.mark(Sn);function yn(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e.postOffice),r=Zr.collection("PendingMails").where("acceptedPostoffice","==",t).where("timestamp",">",e.startDate).where("timestamp","<",e.endDate),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),c.next=5,Object(Gr.d)(n);case 5:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t=e.data();return{cost:t.cost,type:t.type,date:Object(Ge.a)(t.timestamp.toDate(),"yyyy/mm/dd")}})));case 7:case"end":return c.stop()}}),hn)}function wn(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e.postOffice),r=Zr.collection("DeliveredMails").where("acceptedPostoffice","==",t).where("timestamp",">",e.startDate).where("timestamp","<",e.endDate),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),c.next=5,Object(Gr.d)(n);case 5:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t=e.data();return{cost:t.cost,type:t.type,date:Object(Ge.a)(t.timestamp.toDate(),"yyyy/mm/dd")}})));case 7:case"end":return c.stop()}}),xn)}function Nn(e,t){var r,n,a,c,o,i,s,l,d,u,b,j;return St.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:for(r=[],n=e.startDate;n<=e.endDate;n.setDate(n.getDate()+1))a=Object(Ge.a)(new Date(n),"yyyy/mm/dd"),c=function(e,t){return e+parseFloat(t.cost)},o=t.filter((function(e){return e.date==a&&"NormalPost"==e.type})),i=t.filter((function(e){return e.date==a&&"RegisteredPost"==e.type})),s=t.filter((function(e){return e.date==a&&"Package"==e.type})),l=t.filter((function(e){return e.date==a&&"MoneyOrder"==e.type})),d=o.reduce(c,0),u=i.reduce(c,0),b=l.reduce(c,0),j=s.reduce(c,0),r.push({date:a,"Normal Mail":d,"Registered Mail":u,"Package Delievery":j,"Money Order":b});return p.abrupt("return",r);case 3:case"end":return p.stop()}}),gn)}function Sn(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Gr.b)(yn,e);case 3:return t=c.sent,c.next=6,Object(Gr.b)(wn,e);case 6:return r=c.sent,n=[].concat(Object(On.a)(t),Object(On.a)(r)),c.next=10,Object(Gr.b)(Nn,e,n);case 10:return a=c.sent,c.next=13,Object(Gr.c)(Ie(a));case 13:c.next=20;break;case 15:return c.prev=15,c.t0=c.catch(0),console.log("Errorr -",c.t0),c.next=20,Object(Gr.c)((c.t0,{type:Te}));case 20:case"end":return c.stop()}}),vn,null,[[0,15]])}var Rn=St.a.mark(In),kn=St.a.mark(Ln),Dn=St.a.mark(Pn),Cn=St.a.mark(Mn),En=St.a.mark(An),Tn=St.a.mark(Fn);function In(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e.postOffice),r=Zr.collection("PendingMails").where("acceptedPostoffice","==",t).where("timestamp",">",e.startDate).where("timestamp","<",e.endDate),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),c.next=5,Object(Gr.d)(n);case 5:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t=e.data();return{cost:t.cost,type:t.type,date:Object(Ge.a)(t.timestamp.toDate(),"yyyy/mm/dd")}})));case 7:case"end":return c.stop()}}),Rn)}function Ln(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e.postOffice),r=Zr.collection("DeliveredMails").where("acceptedPostoffice","==",t).where("timestamp",">",e.startDate).where("timestamp","<",e.endDate),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),c.next=5,Object(Gr.d)(n);case 5:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t=e.data();return{cost:t.cost,type:t.type,date:Object(Ge.a)(t.timestamp.toDate(),"yyyy/mm/dd")}})));case 7:case"end":return c.stop()}}),kn)}function Pn(e,t){var r,n,a,c,o,i,s,l,d,u,b;return St.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:for(r=[],n=e.startDate;n<=e.endDate;n.setDate(n.getDate()+1))a=Object(Ge.a)(new Date(n),"yyyy/mm/dd"),c=t.filter((function(e){return e.date==a&&"NormalPost"==e.type})),o=t.filter((function(e){return e.date==a&&"RegisteredPost"==e.type})),i=t.filter((function(e){return e.date==a&&"Package"==e.type})),s=t.filter((function(e){return e.date==a&&"MoneyOrder"==e.type})),l=c.length,d=o.length,u=s.length,b=i.length,r.push({Date:a,"Normal Mail":l,"Registered Mail":d,"Package Delievery":b,"Money Order":u});return j.abrupt("return",r);case 3:case"end":return j.stop()}}),Dn)}function Mn(e){var t,r,n,a,c,o,i,s,l;return St.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.filter((function(e){return"NormalPost"==e.type})),r=e.filter((function(e){return"RegisteredPost"==e.type})),n=e.filter((function(e){return"Package"==e.type})),a=e.filter((function(e){return"MoneyOrder"==e.type})),c=function(e,t){return e+parseFloat(t.cost)},o=t.reduce(c,0),i=r.reduce(c,0),s=a.reduce(c,0),l=n.reduce(c,0),d.abrupt("return",[{name:"Normal Mail",value:o},{name:"Registered Mail",value:i},{name:"Package Delievery",value:l},{name:"Money Order",value:s}]);case 10:case"end":return d.stop()}}),Cn)}function An(e){var t,r,n,a,c,o,i,s;return St.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.filter((function(e){return"NormalPost"==e.type})),r=e.filter((function(e){return"RegisteredPost"==e.type})),n=e.filter((function(e){return"Package"==e.type})),a=e.filter((function(e){return"MoneyOrder"==e.type})),c=t.length,o=r.length,i=a.length,s=n.length,l.abrupt("return",[{name:"Normal Mail",value:c},{name:"Registered Mail",value:o},{name:"Package Delievery",value:s},{name:"Money Order",value:i}]);case 9:case"end":return l.stop()}}),En)}function Fn(e){var t,r,n,a,c,o;return St.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(Gr.b)(In,e);case 3:return t=i.sent,i.next=6,Object(Gr.b)(Ln,e);case 6:return r=i.sent,n=[].concat(Object(On.a)(t),Object(On.a)(r)),i.next=10,Object(Gr.b)(Pn,e,n);case 10:return a=i.sent,i.next=13,Object(Gr.b)(Mn,n);case 13:return c=i.sent,i.next=16,Object(Gr.b)(An,n);case 16:return o=i.sent,i.next=19,Object(Gr.c)(gt(a,c,o));case 19:i.next=26;break;case 21:return i.prev=21,i.t0=i.catch(0),console.log("Errorr -",i.t0),i.next=26,Object(Gr.c)((i.t0,{type:xt}));case 26:case"end":return i.stop()}}),Tn,null,[[0,21]])}var Wn=St.a.mark(zn),Bn=St.a.mark(qn),_n=St.a.mark(Gn),Un=St.a.mark(Vn);function zn(e){var t,r,n,a,c;return St.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e,"unSolved",r=Zr.collection("PostOffice").doc(t),n=Zr.collection("Complains").where("state","==","unSolved").where("postoffice","==",r),a=Object(qr.b)((function(e){return n.onSnapshot(e)})),o.next=7,Object(Gr.d)(a);case 7:return c=o.sent,o.abrupt("return",c.docs.map((function(e){var t=e.data();return{complainID:e.id,name:t.name,email:t.email,pid:t.pid,contactNumber:t.contactNumber,date:Object(Ge.a)(t.timestamp.toDate(),"yyyy/mm/dd"),message:t.message}})));case 9:case"end":return o.stop()}}),Wn)}function qn(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Gr.b)(zn,e.postOffice);case 3:return t=r.sent,r.next=6,Object(Gr.c)(At(t));case 6:r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(0),console.log("Errorr -",r.t0),r.next=13,Object(Gr.c)((n=r.t0,{type:Tt,error:n}));case 13:case"end":return r.stop()}var n}),Bn,null,[[0,8]])}function Gn(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Zr.collection("Complains").doc(e).update({state:"Solved"}));case 1:case"end":return t.stop()}}),_n)}function Vn(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.data,r.next=4,Object(Gr.b)(Gn,t);case 4:return r.sent,r.next=7,Object(Gr.c)({type:Lt});case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),console.log("Errorr -",r.t0),r.next=14,Object(Gr.c)((n=r.t0,{type:Pt,error:n}));case 14:case"end":return r.stop()}var n}),Un,null,[[0,9]])}var Kn=St.a.mark(Yn),Qn=St.a.mark($n),Hn=St.a.mark(ea),Zn=St.a.mark(ta),Jn=St.a.mark(ra),Xn=St.a.mark(na);function Yn(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e),r=Zr.collection("PendingMails").where("state","==","destinationArrived").where("destinationPostoffice","==",t),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),c.next=5,Object(Gr.d)(n);case 5:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t,r,n=e.data();return{pid:e.id,addressNumber:n.recipientDetails.recipientAddressNo,city:n.recipientDetails.recipientCity,recepientName:n.recipientDetails.recipientName,street1:null===(t=n.recipientDetails)||void 0===t?void 0:t.recipientStreet1,street2:null===(r=n.recipientDetails)||void 0===r?void 0:r.recipientStreet2}})));case 7:case"end":return c.stop()}}),Kn)}function $n(e){var t,r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Zr.collection("PostOffice").doc(e),r=Zr.collection("Users").where("role","==","postman").where("postOffice","==",t),n=Object(qr.b)((function(e){return r.onSnapshot(e)})),c.next=5,Object(Gr.d)(n);case 5:return a=c.sent,c.abrupt("return",a.docs.map((function(e){var t=e.data();return{id:e.id,email:t.email,lastName:t.lastName,firstName:t.firstName,routes:t.route}})));case 7:case"end":return c.stop()}}),Qn)}function ea(e,t){return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.map((function(e){var r=t.filter((function(t){var r,n;return(null===(r=t.routes)||void 0===r?void 0:r.includes(e.street1))||(null===(n=t.routes)||void 0===n?void 0:n.includes(e.street2))}))[0];return{pid:e.pid,addressNumber:e.addressNumber,city:e.city,street1:null===e||void 0===e?void 0:e.street1,street2:e.street2?e.street2:"-",postmanID:r?r.id:"-",postmanEmail:r?r.email:"-",postmanFirstName:r?r.firstName:"-",postmanLastName:r?r.lastName:"-"}})));case 1:case"end":return r.stop()}}),Hn)}function ta(e){var t,r,n;return St.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Gr.b)(Yn,e.postOffice);case 3:return t=a.sent,a.next=6,Object(Gr.b)($n,e.postOffice);case 6:return r=a.sent,a.next=9,Object(Gr.b)(ea,t,r);case 9:return n=a.sent,a.next=12,Object(Gr.c)(tr(n,r));case 12:a.next=19;break;case 14:return a.prev=14,a.t0=a.catch(0),console.log("Erorr -",a.t0),a.next=19,Object(Gr.c)(rr(a.t0));case 19:case"end":return a.stop()}}),Zn,null,[[0,14]])}function ra(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.forEach((function(e){"-"!=e.postmanID&&Zr.collection("PendingMails").doc(e.pid).update({state:"Assigned",histories:Object(Hr.a)({action:"Assigned",employee:Zr.doc("Users/"+e.postmanID)})})})));case 1:case"end":return t.stop()}}),Jn)}function na(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Gr.b)(ra,e.assignments);case 3:return t.sent,t.next=6,Object(Gr.c)({type:$t});case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log("Erorr -",t.t0),t.next=13,Object(Gr.c)(nr(t.t0));case 13:case"end":return t.stop()}}),Xn,null,[[0,8]])}var aa=St.a.mark(ba),ca=St.a.mark(ja),oa=St.a.mark(pa),ia=St.a.mark(Oa),sa=St.a.mark(ha),la=St.a.mark(xa),da=St.a.mark(ga),ua=St.a.mark(va);function ba(){var e,t,r;return St.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Zr.collection("PostOffice"),t=Object(qr.b)((function(t){return e.onSnapshot(t)})),n.next=4,Object(Gr.d)(t);case 4:return r=n.sent,n.abrupt("return",r.docs.map((function(e){var t=e.data();return{code:t.code,PostOffice:t.city}})));case 6:case"end":return n.stop()}}),aa)}function ja(e,t){var r,n,a,c;return St.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=Zr.collection("PostOffice").doc(e),n=Zr.collection("PendingMails").where("state","==","Accepted").where("acceptedPostoffice","==",r),a=Object(qr.b)((function(e){return n.onSnapshot(e)})),o.next=5,Object(Gr.d)(a);case 5:return c=o.sent,o.abrupt("return",c.docs.map((function(e){var r,n,a=e.data(),c=t.filter((function(e){return e.code==a.destinationPostoffice.id}))[0];return{pid:e.id,addressNumber:a.recipientDetails.recipientAddressNo,city:a.recipientDetails.recipientCity,street1:null===(r=a.recipientDetails)||void 0===r?void 0:r.recipientStreet1,street2:null===(n=a.recipientDetails)||void 0===n?void 0:n.recipientStreet2,destinationPostOffice:c.PostOffice,destinationPostOfficeCode:c.code,type:a.type}})));case 7:case"end":return o.stop()}}),ca)}function pa(e,t){var r;return St.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],t.forEach((function(t){var n=e.filter((function(e){return e.destinationPostOfficeCode==t.code}));n.length>0&&r.push({postOfficeCode:t.code,postOffice:t.PostOffice,itemCount:n.length,mails:n})})),n.abrupt("return",r);case 3:case"end":return n.stop()}}),oa)}function ma(e,t,r){return fa.apply(this,arguments)}function fa(){return(fa=Object(Rt.a)(St.a.mark((function e(t,r,n){var a,c,o,i,s,l;return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.postOfficeCode,o=r.mails,i=o.map((function(e){return Zr.collection("PendingMails").doc(e.pid)})),e.next=5,Zr.collection("Transfers").where("date","==",t).where("destinationPostoffice","==",c).get();case 5:if(!(s=e.sent).empty){e.next=12;break}return l=Zr.collection("Transfers").doc(),e.next=10,l.set({mails:i,date:t,destinationPostoffice:c,acceptedPostoffice:n,state:"Created"}).then((function(){a=l.id})).catch((function(e){throw e}));case 10:e.next=14;break;case 12:return e.next=14,Zr.collection("Transfers").doc(s.docs[0].id).update({mails:i}).then((function(){a=s.docs[0].id})).catch((function(e){throw e}));case 14:return e.abrupt("return",{id:a,postOfficeCode:r.postOfficeCode,postOffice:r.postOffice,itemCount:r.itemCount,mails:o});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oa(e,t){var r,n,a;return St.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r=new Date,n=Object(Ge.a)(r,"yyyy/mm/dd"),c.next=4,Object(Gr.a)(e.map((function(e){return Object(Gr.b)(ma,n,e,t)})));case 4:return a=c.sent,c.abrupt("return",a);case 6:case"end":return c.stop()}}),ia)}function ha(e){var t,r,n,a,c;return St.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.postOffice.toString(),o.next=4,Object(Gr.b)(ba);case 4:return r=o.sent,o.next=7,Object(Gr.b)(ja,t,r);case 7:return n=o.sent,o.next=10,Object(Gr.b)(pa,n,r);case 10:return a=o.sent,o.next=13,Object(Gr.b)(Oa,a,t);case 13:return c=o.sent,o.next=16,Object(Gr.c)({type:Rr,transfers:c});case 16:o.next=23;break;case 18:return o.prev=18,o.t0=o.catch(0),console.log("Error -",o.t0),o.next=23,Object(Gr.c)(Tr(o.t0));case 23:case"end":return o.stop()}}),sa,null,[[0,18]])}function xa(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.forEach((function(e){Zr.collection("Transfers").doc(e.id).update({state:"Confirmed"})})));case 1:case"end":return t.stop()}}),la)}function ga(e){return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.forEach((function(e){return e.mails.forEach((function(e){var t=Zr.collection("PendingMails").doc(e.pid);console.log("Mail update",e),t.update({state:"Transfered"})}))})));case 1:case"end":return t.stop()}}),da)}function va(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.transfers,r.next=4,Object(Gr.b)(xa,t);case 4:return r.sent,r.next=7,Object(Gr.b)(ga,t);case 7:return r.sent,r.next=10,Object(Gr.c)(Ir());case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(0),console.log("Error -",r.t0),r.next=17,Object(Gr.c)(Lr(r.t0));case 17:case"end":return r.stop()}}),ua,null,[[0,12]])}var ya=St.a.mark(wa);function wa(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gr.a)([Object(Gr.e)(D,Kr),Object(Gr.e)(T,Qr),Object(Gr.e)(Ae,$r),Object(Gr.e)(rt,cn),Object(Gr.e)(Qe,fn),Object(Gr.e)(Ce,Sn),Object(Gr.e)(Ot,Fn),Object(Gr.e)(Ct,qn),Object(Gr.e)(It,Vn),Object(Gr.e)(Ht,ta),Object(Gr.e)(Yt,na),Object(Gr.e)(Sr,ha),Object(Gr.e)(Dr,va)]);case 2:case"end":return e.stop()}}),ya)}var Na={error:"",loggedIn:!1,requireLogin:!1,idToken:null};var Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",loggedIn:!1,requireLogin:!1});case E:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,requireLogin:!0});case C:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",loggedIn:!0,requireLogin:!1});case I:return Object(Se.a)(Object(Se.a)({},e),{},{idToken:t.token});default:return e}},Ra={error:"",firstName:"",lastName:"",contactNumber:"",NIC:"",role:"",idToken:null,postOffice:"",isAuthorized:!1,currentUserID:"",currentUserEmail:""};var ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",isAuthorized:!1});case We:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,isAuthorized:!1});case Fe:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",isAuthorized:!0,firstName:t.data.firstName,lastName:t.data.lastName,contactNumber:t.data.contactNumber,NIC:t.data.NIC,role:t.data.role,postOffice:t.data.postOffice.id,currentUserID:t.currentUserID,currentUserEmail:t.currentUserEmail});default:return e}},Da={error:"",locationData:[],locationsRetrieved:!1,postOffice:{},isLoading:!1};var Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",locationsRetrieved:!1,isLoading:!0});case Ze:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,locationsRetrieved:!1,isLoading:!1});case He:return Object(Se.a)(Object(Se.a)({},e),{},{locationData:Object(On.a)(t.locationData),postOffice:Object(Se.a)({},t.postOfficeData.location),locationsRetrieved:!0,error:"",isLoading:!1});default:return e}},Ea={error:"",isRequested:!1,requestSuccessful:!1,requestUnSuccessful:!1};var Ta=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case rt:return Object(Se.a)(Object(Se.a)({},t),{},(e={error:"",isRequested:!0,requestSuccessful:!1},Object(g.a)(e,"error",""),Object(g.a)(e,"requestUnSuccessful",!1),e));case nt:return Object(Se.a)(Object(Se.a)({},t),{},{isRequested:!1,requestSuccessful:!0,error:"",requestUnSuccessful:!1});case at:return Object(Se.a)(Object(Se.a)({},t),{},{isRequested:!1,requestSuccessful:!1,error:r.data,requestUnSuccessful:!0});default:return t}},Ia={isRequested:!1,revenueData:[],error:"",dataRetreived:!1};var La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",revenueData:[],isRequested:!0,dataRetreived:!1});case Te:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,revenueData:[],isRequested:!1,dataRetreived:!1});case Ee:return Object(Se.a)(Object(Se.a)({},e),{},{revenueData:Object(On.a)(t.data),isRequested:!1,error:"",dataRetreived:!0});default:return e}},Pa={isRequested:!1,countData:[],error:"",revenuePieData:[],countPieData:[]};var Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",countData:[],isRequested:!0});case xt:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,countData:[],isRequested:!1});case ht:return Object(Se.a)(Object(Se.a)({},e),{},{countData:Object(On.a)(t.countList),revenuePieData:Object(On.a)(t.revenuePieData),countPieData:Object(On.a)(t.countPieData),isRequested:!1,error:""});default:return e}},Aa={isRequested:!1,complainData:[],error:"",dataRetrieved:!1,ismarkRequested:!1,ismarkSuccess:!1,markError:""};var Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",complainData:[],isRequested:!0,dataRetrieved:!1});case Tt:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,complainData:[],isRequested:!1,dataRetrieved:!1});case Et:return Object(Se.a)(Object(Se.a)({},e),{},{complainData:Object(On.a)(t.data),isRequested:!1,error:"",dataRetrieved:!0});case It:return Object(Se.a)(Object(Se.a)({},e),{},{ismarkRequested:!0,ismarkSuccess:!1,markError:""});case Pt:return Object(Se.a)(Object(Se.a)({},e),{},{ismarkRequested:!1,ismarkSuccess:!1,markError:t.data});case Lt:return Object(Se.a)(Object(Se.a)({},e),{},{ismarkRequested:!1,ismarkSuccess:!0,markError:""});default:return e}},Wa={error:"",assignments:[],postmenData:[],isLoading:!1,dataRetreived:!1,changedCount:0,submitRequested:!1,submitSuccess:!1,submitFailure:!1};var Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",dataRetreived:!1,isLoading:!0,changedCount:0});case Jt:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,dataRetreived:!1,isLoading:!1});case Zt:return Object(Se.a)(Object(Se.a)({},e),{},{assignments:Object(On.a)(t.assignments),postmenData:Object(On.a)(t.postmenRoutes),dataRetreived:!0,error:"",isLoading:!1});case Xt:var r=e.assignments.findIndex((function(e){return e.pid==t.pid}));return e.assignments[r].postmanID=t.id,Object(Se.a)(Object(Se.a)({},e),{},{changedCount:e.changedCount+1});case Yt:return Object(Se.a)(Object(Se.a)({},e),{},{submitRequested:!0,submitSuccess:!1,submitFailure:!1});case er:return Object(Se.a)(Object(Se.a)({},e),{},{submitRequested:!1,submitSuccess:!1,submitFailure:!0});case $t:return Object(Se.a)(Object(Se.a)({},e),{},{submitRequested:!1,submitSuccess:!0,submitFailure:!1});default:return e}},_a={error:"",transfers:[],isLoading:!1,dataRetreived:!1,submitRequested:!1,submitSuccess:!1,submitFailure:!1,confirmationRequested:!1,confirmationSuccessfull:!1,confirmationUnsuccessfull:!1};var Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sr:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",dataRetreived:!1,isLoading:!0});case kr:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,dataRetreived:!1,isLoading:!1});case Rr:return Object(Se.a)(Object(Se.a)({},e),{},{transfers:Object(On.a)(t.transfers),dataRetreived:!0,error:"",isLoading:!1});case Dr:return Object(Se.a)(Object(Se.a)({},e),{},{error:"",confirmationRequested:!0,confirmationSuccessfull:!1,confirmationUnsuccessfull:!1});case Er:return Object(Se.a)(Object(Se.a)({},e),{},{error:t.error,confirmationSuccessfull:!1,confirmationRequested:!1,confirmationUnsuccessfull:!0});case Cr:return Object(Se.a)(Object(Se.a)({},e),{},{confirmationSuccessfull:!0,error:"",confirmationRequested:!1,confirmationUnsuccessfull:!1});default:return e}},za=Object(zr.combineReducers)({loginReducer:Sa,homeReducer:ka,LiveDeliveryReducer:Ca,registrationReducer:Ta,dashboardReducer:La,statisticsReducer:Ma,complainsReducer:Fa,MailAssignmentsReducer:Ba,MailTransfersReducer:Ua}),qa=r(553),Ga=r(554);Object(Ga.registerObserver)();var Va=Object(qr.a)(),Ka=Object(zr.createStore)(za,Object(qa.composeWithDevTools)(Object(zr.applyMiddleware)(Va)));Va.run(wa),o.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(R.a,{store:Ka,children:Object(A.jsx)(_r,{})})}),document.getElementById("root")),Ur()}},[[955,1,2]]]);
//# sourceMappingURL=main.e92071e6.chunk.js.map